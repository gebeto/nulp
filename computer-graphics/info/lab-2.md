# Комп’ютерна графіка. Лабораторна робота №1

## Тема
Фрактальні зображення

## Мета
Ознайомитись на практиці із основними поняттями теорії фракталів, навчитись будувати різні фрактальні зображення та використовувати IFS, як простий засіб отримання фрактальних структур.


## Теоретичні відомості
Поняття фрактал і фрактальна геометрія , що з’явилися в кінці 70-х, із середини 80-х міцно увійшли до ужитку математиків і програмістів. Слово фрактал утворено від латинського “fractus”, що в перекладі означає “той, що складається з фрагментів”. Воно було запропоноване Бенуа Мандельбротом у 1975 році для позначення нерегулярних, але самоподібних структур, якими він займався. Народження фрактальної геометрії прийнято пов’язувати з виходом у 1977 році книги Мандельброта “The Fractal Geometry of Nature”. У його роботах використані наукові результати інших учених, що працювали в період 1875–1925 років у тій же області (Пуанкаре, Фату, Жюліа, Кантор, Хаусдорф). Але тільки у наш час вдалося об’єднати їхні роботи в єдину систему.

Роль фракталів в комп’ютерній графіці сьогодні велика. Вони приходять на допомогу, наприклад, коли потрібно за допомогою декількох коефіцієнтів задати лінії і поверхні дуже складної форми. З погляду комп’ютерної графіки, фрактальна геометрія незамінна під час генерації штучних хмар, гір, поверхні морів. Фактично знайдено спосіб легкого представлення складних  об’єктів, які схожі на природні.

Однією з основних властивостей фракталів є самоподібність. У найпростішому випадку невелика частина фрактала містить інформацію про весь фрактал.

Визначення фрактала, дане Мандельбротом, звучить так:
> Фракталом називається структура, що складається з частин, які в якомусь сенсі подібні до цілого.


### Геометричні фрактали
Фрактали цього класу найнаочніші. Цей тип фракталів утворюється шляхом простих геометричних побудов. Наприклад, у двомірному випадку їх отримують за допомогою деякої ламаної (або поверхні в тривимірному випадку), званої генератором . За один крок алгоритму кожен з відрізків (складових ламаної) замінюється на ламану-генератор, у відповідному масштабі. У результаті нескінченного повторення цієї процедури, виходить геометричний фрактал.

Перші ідеї фрактальної геометрії виникли в ХІХ ст. Кантор за допомогою простої рекурсивної процедури перетворив лінію на набір незв’язаних крапок (так званий Пил Кантора ). Він брав лінію і видаляв центральну третину, після цього повторював те ж саме з відрізками.

Пеано ж намалював особливий вид лінії Пеано (рис. 1). Для її малювання італійський математик взяв квадрат і видалив у ньому нижню сторону. Утворилась крива Пеано 1-го порядку (рис. 1, а ). Далі вчений зменшив квадрат рівно вдвічі, і зробив його 4 копії. Дві з них поставив паралельно одна одній, а інші дві ще повернув на чверть обороту в протилежні сторони та з’єднав кінці ліній квадратів трьома однаковими відрізками, довжиною, що дорівнює стороні нового зменшеного квадрата. Утворилась крива Пеано 2-го порядку (рис. 2, б ). Процедура повторюється знову: зменшується крива 2-го порядку вдвічі, робиться чотири її копії, дві з яких повертаються, і знову з’єднуються відрізками, які теж зменшені вдвічі (рис. 1, в – е ). Повторювати даний алгоритм можна до нескінченності.

![image001](https://user-images.githubusercontent.com/13422799/48302483-44b3d200-e506-11e8-826e-8eadf179e77e.jpg)
![image002](https://user-images.githubusercontent.com/13422799/48302484-454c6880-e506-11e8-9ab7-2f710bac9fb6.jpg)
<p align="center">
	Рис.1. Крива Гільберта-Пеано
</p>

Розглянемо фрактальний об’єкт – тріадну криву Коха . Побудова кривої починається з відрізка одиничної довжини (рис. 2, а ) – це 0-е покоління кривої Коха. Далі кожна ланка (у нульовому поколінні один відрізок) замінюється на утворюючий елемент, позначений на рис. 2, б . У результаті такої заміни виходить наступне покоління кривої Коха. У 1-му поколінні – це крива з чотирьох прямолінійних ланок, кожна завдовжки 1/3. Для отримання 2-го покоління проробляються ті ж дії – кожна ланка замінюється на зменшений утворюючий елемент. Отже, для отримання кожного подальшого покоління, всі ланки попереднього покоління необхідно замінити зменшеним утворюючим елементом. Крива n -го покоління при будь-якому кінцевому n називається передфракталом . При n, прямуючому до нескінченності, крива Коха стає фрактальним об’єктом.

![image004](https://user-images.githubusercontent.com/13422799/48302486-454c6880-e506-11e8-8cb6-8de5ecf178d9.gif)
![image003](https://user-images.githubusercontent.com/13422799/48302485-454c6880-e506-11e8-9afd-1c18b0b0ccbd.gif)
![image005](https://user-images.githubusercontent.com/13422799/48302487-45e4ff00-e506-11e8-937e-75fbe5182e92.jpg)
![image006](https://user-images.githubusercontent.com/13422799/48302488-45e4ff00-e506-11e8-8cb0-a536d7006913.jpg)
Рис. 2. Побудова тріадної кривої Коха

Дуже цікавим і відомим фракталом є сніжинка Коха . Будується вона на основі рівностороннього трикутника, кожна лінія якого замінюється на 4 лінії , довжини кожної дорівнюють 1/3 від початкової . І якщо ми зробимо нескінченне число ітерацій – отримаємо фрактал – сніжинку Коха нескінченної довжини. Виходить, що нескінченна крива покриває обмежену площу (рис. 3) .

![image007](https://user-images.githubusercontent.com/13422799/48302489-45e4ff00-e506-11e8-975c-b88d7be1e234.jpg)
Рис. 3. Сніжинка Коха

Розглянемо інший фрактал – “ дракон” Хартера-Хейтуея (рис. 4). Вважається , що таку назву фрактал отримав за схожість із традиційними китайськими драконами . Принаймні, так здалося вченим , які вперше його досліджували . Кожна ламана– “ дракон” є лише наближенням до фракталу-“дракона” та складається з відрізків . Ламана з номером n складатиметься з 2 n відрізків . Довжина кожного дорівнює ![image008](https://user-images.githubusercontent.com/13422799/48302490-467d9580-e506-11e8-85ec-c7e79b1194f3.gif), де d – довжина вихідного відрізка . Якщо відрізки пронумерувати числами 0, 1, 2 , ... і йти по ламаній , то після кожного відрізка потрібно здійснювати поворот . Напрямок повороту визначається номером k поточного відрізка:
 - повернути праворуч , якщо k дає залишок 1 від ділення на 4;
 - повернути ліворуч , якщо k дає залишок 3 від ділення на 4 ;
 - повертати так, як після відрізка з номером k /2 , якщо k парне .

Можна переформулювати ці правила , щоб отримати рекурсивну процедуру побудови ламаних -“ драконів”. На кожному кроці потрібно замінити кожний із відрізків , що складають дану ламану , на куточки – сторони рівнобедреного прямокутного трикутника , у якого цей відрізок є основою . При цьому потрібно по черзі відкладати ці трикутники то вліво , то вправо за ходом руху від одного кінця ламаної до іншого .

![image009](https://user-images.githubusercontent.com/13422799/48302491-467d9580-e506-11e8-9e1c-aac977975799.jpg)
![image010](https://user-images.githubusercontent.com/13422799/48302492-467d9580-e506-11e8-858f-994736a1d3c6.jpg)
Рис. 4. Побудова “дракона” Хартера–Хейтуея

Н-фрактал . Для побудови цього фракталу будують фігуру у вигляді букви Н (рис. 5) , у якої вертикальні і горизонтальні відрізки рівні . Потім до кожної з 4 вершин фігури присвоюється її копія, зменшена в два рази . Знову до кожного кінця ( їх вже 16) необхідно присвоювати копії літери Н , зменшені вже в 4 рази . І так далі . Якщо кількість кроків спрямувати в нескінченність, то вийде фрактал , який візуально майже заповнює деякий квадрат . Н - фрактал всюди щільний у ньому . Тобто в будь-якому околі будь-якої точки квадрата знайдуться точки фрактала .

![image011](https://user-images.githubusercontent.com/13422799/48302509-7e84d880-e506-11e8-84ca-1b4547ceb7ad.jpg)
![image012](https://user-images.githubusercontent.com/13422799/48302510-7e84d880-e506-11e8-995f-0dba3dd90d64.jpg)
![image013](https://user-images.githubusercontent.com/13422799/48302511-7f1d6f00-e506-11e8-9dd5-e9dbcd47e2ab.jpg)
![image014](https://user-images.githubusercontent.com/13422799/48302512-7f1d6f00-e506-11e8-98fd-51a505515c77.jpg)
![image015](https://user-images.githubusercontent.com/13422799/48302514-7f1d6f00-e506-11e8-9cce-bd3dac1eae0e.jpg)
Рис. 5. Н–фрактал

![image016](https://user-images.githubusercontent.com/13422799/48302524-8c3a5e00-e506-11e8-8a41-733812a301f3.gif)

Крива Мінковського – класичний геометричний фрактал. Ініціатором є відрізок (рис. 6, а ), а генератором –  ламана з восьми ланок (дві рівні ланки продовжують одна одну) (рис. 6, б ).

![image017](https://user-images.githubusercontent.com/13422799/48302525-8c3a5e00-e506-11e8-8566-e9cfa2150262.gif)
![image018](https://user-images.githubusercontent.com/13422799/48302526-8c3a5e00-e506-11e8-840a-1e14f4a442c1.gif)
![image019](https://user-images.githubusercontent.com/13422799/48302533-9e1c0100-e506-11e8-81ac-6856cc11c8cb.jpg)
Рис. 6. Побудова кривої Мінковського

Крива Леві – фрактал, запропонований французьким математиком П.Леві (рис. 7). Отримується, якщо взяти половину квадрата виду з рис.7, а , а потім кожну сторону замінити таким же фрагментом, і, повторюючи цю операцію, ми отримаємо криву Леві (рис. 7, б – г ).

![image020](https://user-images.githubusercontent.com/13422799/48302534-9eb49780-e506-11e8-8388-5033929867fe.jpg)
![image021](https://user-images.githubusercontent.com/13422799/48302535-9eb49780-e506-11e8-9640-1d0a90b651f0.jpg)
![image022](https://user-images.githubusercontent.com/13422799/48302536-9eb49780-e506-11e8-9fb7-e30ccb3f65fd.jpg)
![image023](https://user-images.githubusercontent.com/13422799/48302537-9f4d2e00-e506-11e8-9fa1-6c7054716eac.jpg)
Рис. 7. Побудова кривої Леві

Польський математик Врацлав Серпінський запропонував фрактал – килим Серпінського (рис. 8). Для побудови береться суцільний квадрат, розрізається на 9 рівних квадратів і видаляється середина центрального квадрата. На другому кроці видаляється 8 центральних квадратів із решти 8  квадратів і т.д. Після безконечного повторення цієї процедури, від суцільного квадрата залишається замкнута підмножина – килим Серпінського.
![image024](https://user-images.githubusercontent.com/13422799/48302543-ae33e080-e506-11e8-8078-0509857b1dd3.jpg)
![image025](https://user-images.githubusercontent.com/13422799/48302544-ae33e080-e506-11e8-9929-792601b1dcdf.jpg)
Рис. 8. Килим Серпінського

У 1915 році Врацлав Серпінський розглянув ще один фрактал – трикутник Серпінського (рис. 9) . Цей фрактал відомий також як “серветка” або “решітка” Серпінського. Щоб побудувати даний фрактал необхідно взяти рівносторонній трикутник (рис. 9, а ). На першому кроці видаляється трикутник з вершинами в середині сторін початкового трикутника (рис. 9, б ). На другому кроці видаляються аналогічні трикутники із трьох менших трикутників, що залишилися після першого кроку, і т.д. Після нескінченного повторення цієї процедури від суцільного трикутника залишається підмножина – трикутник Серпінського.

![image026](https://user-images.githubusercontent.com/13422799/48302545-aecc7700-e506-11e8-9a75-4114e6671e2c.jpg)
![image027](https://user-images.githubusercontent.com/13422799/48302546-aecc7700-e506-11e8-9d43-c322ae1044d6.jpg)
Рис. 9. Трикутник Серпінського
Т-фрактал . Ймовірно, цей фрактал отримав таку назву за схожість з рейсшиною (рис. 10) з причіпленою перпендикулярною планкою у вигляді букви Т. По-англійськи цей інструмент так і називається – T-square.
![image028](https://user-images.githubusercontent.com/13422799/48302548-aecc7700-e506-11e8-8d58-f1dd9d7c75a9.jpg)
Рис. 10. Рейсшина
Побудова Т-фракталу розпочинається із одиничного квадрата (рис. 11, а ). На першому кроці необхідно зафарбувати в центрі білим кольором квадрат зі стороною 1/2. Потім потрібно подумки розділити квадрат на 4 однакових квадрати і в центрі кожного з них зафарбувати квадрат зі стороною ¼ (рис. 11, б ). Далі кожен з цих 4 квадратів знову ділиться на 4 частини, всього вийде 16 квадратиків, і з кожним з них потрібно повторити процедуру (рис. 11, в ). І так далі до нескінченності.
![image029](https://user-images.githubusercontent.com/13422799/48302549-af650d80-e506-11e8-9103-bc30c52a51f9.jpg)
![image030](https://user-images.githubusercontent.com/13422799/48302550-af650d80-e506-11e8-8d09-8edc58a69f0d.jpg)
![image031](https://user-images.githubusercontent.com/13422799/48302551-affda400-e506-11e8-8412-74a9dee87314.jpg)
![image032](https://user-images.githubusercontent.com/13422799/48302552-affda400-e506-11e8-94f4-bef9c2fdc77e.jpg)
![image033](https://user-images.githubusercontent.com/13422799/48302553-b0963a80-e506-11e8-9382-18d9262785d9.jpg)
Рис. 11. Побудова Т-фракталу
Дерево Піфагора . Даний фрактал (рис. 12) називається так тому, що кожна трійка попарно дотичних квадратів обмежує прямокутний трикутник і виходить картинка, якій часто ілюструють теорему Піфагора: «Піфагорові штани на всі сторони рівні».
![image034](https://user-images.githubusercontent.com/13422799/48302555-bb50cf80-e506-11e8-80d8-4858c3b2cb66.jpg)
![image035](https://user-images.githubusercontent.com/13422799/48302556-bb50cf80-e506-11e8-9d94-1f11c60d6157.jpg)
![image036](https://user-images.githubusercontent.com/13422799/48302557-bb50cf80-e506-11e8-914a-cdd01dcd8dbe.jpg)
![image037](https://user-images.githubusercontent.com/13422799/48302558-bbe96600-e506-11e8-9630-37b692c1a695.jpg)
Рис. 12. Кроки побудови дерева Піфагора
Добре видно, що все дерево обмежене. Якщо найбільший квадрат одиничний, то дерево поміститься в прямокутнику 6 × 4. Отже, його площа не перевищує 24. Але з іншого боку, кожен раз додається в два рази більше трійок квадратиків, ніж у попередньому кроці, а їх лінійні розміри в √2 разів менші. Тому на кожному кроці додається одна і та ж площа, яка дорівнює площі початковій конфігурації, тобто 2. Здавалося б, тоді площа дерева повинна бути нескінченна! Але насправді суперечності тут немає, тому що досить швидко квадратики починають перекриватися, і площа збільшується не так швидко. Вона таки скінченна, але, досі точне значення невідоме, і це відкрита проблема.
У комп’ютерній графіці використання геометричних фракталів необхідне при отриманні зображень дерев, кущів, берегової лінії. Двомірні геометричні фрактали використовуються для створення об’ємних текстур (малюнка на поверхні об’єкта).


### Алгебраїчні фрактали
Це найбільша група фракталів. Отримують їх за допомогою нелінійних процесів в n -мірних просторах. Найбільше вивчені двомірні процеси. Інтерпретуючи нелінійний ітераційний процес, як дискретну динамічну систему, можна користуватися термінологією теорії цих систем: фазовий портрет , сталий процес , аттрактор і т.д.

Відомо, що нелінійні динамічні системи володіють декількома стійкими станами. Той стан, в якому опинилася динамічна система після деякого числа ітерацій, залежить від її початкового стану. Тому кожен стійкий стан (або як говорять – аттрактор ) володіє деякою областю початкових станів, з яких система обов’язково потрапить в дані кінцеві стани. Таким чином, фазовий простір системи розбивається на області тяжіння аттракторів. Якщо фазовим є двомірний простір, то забарвлюючи області тяжіння різними кольорами, можна отримати колірний фазовий портрет цієї системи (ітераційного процесу). Міняючи алгоритм вибору кольору, можна отримати складні фрактальні картини з химерними багатоколірними узорами. Несподіванкою для математиків стала можливість за допомогою примітивних алгоритмів породжувати дуже складні нетривіальні структури.

Як приклад, розглянемо множину Мандельброта **(pис. 13, 14)**. Алгоритм його побудови достатньо простий і заснований на простому ітеративному виразі: `Z[i+1] = Z[i] * Z[i] + C`, (1) де `Z[i]` і `C` – комплексні змінні. Ітерації виконуються для кожної стартової точки `C` прямокутної або квадратної області – підмножини комплексної площини. Ітераційний процес продовжується до тих пір, поки `Z[i]` не вийде за межі кола радіусу **2**, центр якої лежить в точці **(0,0)** (це означає, що аттрактор динамічної системи знаходиться в нескінченності) або після достатньо великого числа ітерацій (наприклад, 200–500) `Z[i]` зійдеться до якої-небудь точки кола. Залежно від кількості ітерацій, в перебігу яких `Z[i]` залишалася усередині кола, можна встановити колір точки `C` (якщо `Z[i]` залишається усередині кола протягом достатньої великої кількості ітерацій, ітераційний процес припиняється і ця точка растру забарвлюється в чорний колір).

![image038](https://user-images.githubusercontent.com/13422799/48302559-bbe96600-e506-11e8-9d11-3342b6194e84.gif)
Рис. 13. Множина Мандельброта

![image039](https://user-images.githubusercontent.com/13422799/48302560-bbe96600-e506-11e8-824c-2560b1bfad52.gif)
Рис. 14. Ділянка межі множини Мандельброта, збільшена в 200 разів

Вищеописаний алгоритм дає наближення до так званої множини Мандельброта. Множині Мандельброта належать точки, які протягом нескінченного числа ітерацій не йдуть в нескінченність (точки мають чорний колір). Точки, що належать межі множини (саме там виникають складні структури) йдуть в нескінченність за кінцеве число ітерацій, а точки за межами множини, йдуть в нескінченність через декілька ітерацій (білий фон).

Розглянемо ще множину Жюліа, що утворюється за тією ж самою формулою (1), що й множина Мандельброта. Множину Жюліа було винайдено французьким математиком Гастоном Жюліа. Досить дивно, але існують різні типи цієї множин. При малюванні фрактала з використанням різних початкових точок (щоб почати процес ітерацій), генеруються різні зображення. Це може бути застосоване тільки до множини Жюліа.

Вигляд множини Жюліа залежить від значення параметра **С**. На **рис. 15**, а зображено множину Жюліа для `С = 0,27334+0,00742` і, а на **рис. 15**, б для `С =-1,25`.

Якщо:
![image040](https://user-images.githubusercontent.com/13422799/48302561-bc81fc80-e506-11e8-9e1f-8fca1117fb8f.gif)
множина Жюліа перетворюється в цікаву ламану лінію (рис. 15, в ). Казковим килимом стає множина Жюліа для С = і (рис. 15, г ).
![image041](https://user-images.githubusercontent.com/13422799/48302562-bc81fc80-e506-11e8-86f6-1140eae3c434.jpg)
![image042](https://user-images.githubusercontent.com/13422799/48302563-bc81fc80-e506-11e8-84f1-52ede005524d.jpg)
![image043](https://user-images.githubusercontent.com/13422799/48302564-bd1a9300-e506-11e8-895f-fee6831aeebf.jpg)
![image044](https://user-images.githubusercontent.com/13422799/48302565-bd1a9300-e506-11e8-8319-324dd043a2f8.jpg)
Рис. 15. Множина Жюліа з різними параметрами С


3. Стохастичні фрактали
Ще одним відомим класом фракталів є стохастичні фрактали, які виходять в тому випадку, коли в ітераційному процесі випадковим чином міняти які-небудь його параметри. При цьому утворюються об’єкти дуже схожі на природні – несиметричні дерева, порізані берегові лінії і так далі Двовимірні стохастичні фрактали використовуються при моделюванні рельєфу місцевості і поверхні моря. У зв’язку з цим двовимірні  стохастичні  фрактали  дуже  часто  використовуються під час моделювання різних природних об’єктів: рельєфу  місцевості, поверхні моря тощо (рис. 16).

![image045](https://user-images.githubusercontent.com/13422799/48302568-c6a3fb00-e506-11e8-97f1-da85fa3b1bbf.jpg)
Рис. 16. Використання  стохастичних  фракталів  для моделювання природних об’єктів

Плазма – найвідоміший стохастичний фрактал (рис. 17). Покроковий алгоритм побудови:

1. Нехай потрібно заповнити плазмою квадрат
![image046](https://user-images.githubusercontent.com/13422799/48302569-c6a3fb00-e506-11e8-8d49-47ffdb9f832e.gif)
точок .

2. Задається яким-небудь чином , наприклад , випадково , кольори кутів квадрата .
3. Визначається колір середини кожної сторони як середнє між кольорами інцидентних їй вершин плюс / мінус деяка випадкова величина .
4. Визначається колір центру квадрата як середнє між кутами плюс / мінус деяка випадкова величина .
5. В иходить 4 квадрати із заданими вершинами – для кожного з них повторюється алгоритм з третього кроку .

Розмах випадкової величини має залежати від розміру квадрата – чим менший квадрат , тим менше відхилення .

![image047](https://user-images.githubusercontent.com/13422799/48302570-c6a3fb00-e506-11e8-9751-ebc63b37a4d3.jpg)
Рис. 17. Плазма

Існують і інші класифікації фракталів, наприклад поділ фракталів на детерміновані (алгебраїчні і геометричні) і недетермінованих (стохастичні).

4. Iterated Functions System (система ітераційних функцій)
Метод Iterated Functions System (IFS) з’явився в середині 80-х років як простий засіб отримання фрактальних структур.

IFS є системою деякого фіксованого класу функцій, що відображають одну багатовимірну множину в іншу. Найбільш проста IFS складається з афінних перетворень :

![image048](https://user-images.githubusercontent.com/13422799/48302571-c73c9180-e506-11e8-85ea-69002a577ce3.gif)
(2)

У 1988 році відомі американські фахівці Барнслі і Слоан запропонували деякі ідеї, засновані на міркуваннях теорії динамічних систем, для стискання і зберігання графічної інформації. Вони назвали свій метод “методом фрактального стискання інформації”. Походження назви пов’язане з тим, що геометричні фігури , що виникають у цьому методі, зазвичай мають фрактальну природу в сенсі Мандельброта.

На підставі цих ідей Барнслі і Слоан створили алгоритм, який, за їх твердженням, дозволить стискувати інформацію в 500–1000 разів. Коротко метод можна описати таким чином. Зображення кодується декількома простими перетвореннями (у нашому випадку афінними), тобто коефіцієнтами цих перетворень (у нашому випадку A,B,C,D,E,F).

Наприклад, закодувавши якесь зображення двома афінними перетвореннями, ми однозначно визначаємо його за допомогою 12-ти коефіцієнтів. Якщо тепер задати яку-небудь початкову точку (наприклад, X =0 Y =0) і запустити ітераційний процес, то після першої ітерації отримаємо дві точки , після другої  –  чотири, після третьої  –  вісім і так далі. Через декілька десятків ітерацій сукупність отриманих точок описуватиме закодоване зображення. Але проблема полягає в тому, що дуже важко знайти коефіцієнти IFS, які кодували б довільне зображення.

Для побудови IFS застосовують окрім афінних і інші класи простих геометричних перетворень, які задаються невеликим числом параметрів. Наприклад, проектні:

![image049](https://user-images.githubusercontent.com/13422799/48302572-c73c9180-e506-11e8-9394-97d5847e4593.gif)
(3)
або квадратичні:
![image050](https://user-images.githubusercontent.com/13422799/48302573-c7d52800-e506-11e8-9aec-a7c0a52c8479.gif)
(4)

Як приклад використання IFS для побудови фрактальних структур, розглянемо “дракон” Хартера-Хейтуея (рис.18, 19) і криву Коха. Виділимо в цих структурах подібні частини і для кожної з них обчислимо коефіцієнти афінного перетворення. У афінний колаж буде включено стільки афінних перетворень, скільки існує частин подібних цілому зображенню.

![image051](https://user-images.githubusercontent.com/13422799/48302574-c7d52800-e506-11e8-91e1-b24e63bff144.gif)
Рис. 18. Заготовка для побудови IFS "дракона" Хартера-Хейтуея

Побудуємо IFS для “дракона” Хартера-Хейтуея. Для цього розташуємо перше покоління цього фрактала на сітці координат дисплея 640
![image052](https://user-images.githubusercontent.com/13422799/48302575-c86dbe80-e506-11e8-848f-69aafa83da10.gif)
350 (рис. 18). Позначимо точки ламаної, що отримали, як A, B, C . За правилами побудови у цього фрактала дві частини подібні цілому – на рис.18 це ламані ADB і BEC . Знаючи координати кінців цих відрізків, можна обчислити коефіцієнти двох афінних перетворень, що переводять ламану ABC в ADB і BEC:
![image053](https://user-images.githubusercontent.com/13422799/48302576-c86dbe80-e506-11e8-8949-3b6138c182e8.gif)
(5)

Задавши початкову стартову точку (наприклад, X =0, Y =0), й, ітераційно діючи на неї IFS, після десятої ітерації на екрані отримаємо фрактальну структуру, зображену на рис.19, яка є “драконом” Хартера-Хейтуея. Його кодом (стислим описом) є набір коефіцієнтів двох афінних перетворень.

![image054](https://user-images.githubusercontent.com/13422799/48302577-c9065500-e506-11e8-82a3-dcf78242e936.jpg)
Рис. 19. “Дракон” Хартера-Хейтуея, побудований за допомогою IFS в прямокутнику **640x350**

Аналогічно можна побудувати IFS для кривої Коха. Неважко бачити, що ця крива має чотири частини, подібні до цілої кривої ( рис. 20). Для знаходження IFS знову розташуємо перше покоління цього фрактала на сітці координат дисплея **640x350**.

![image055](https://user-images.githubusercontent.com/13422799/48302578-c9065500-e506-11e8-8c67-439a03210c17.gif)
Рис. 20. Заготовка для побудови IFS кривої Коха

Для її побудови потрібний набір афінних перетворень, що складається з чотирьох перетворень:
![image056](https://user-images.githubusercontent.com/13422799/48302579-c9065500-e506-11e8-81fa-8fdcf4342348.gif)
(6)

Результат застосування цього афінного колажа після десятої ітерації можна побачити на рис. 21.

![image057](https://user-images.githubusercontent.com/13422799/48302582-ca378200-e506-11e8-9c2a-cbae370495ed.gif)

Рис. 21. Крива Коха, побудована за допомогою IFS у прямокутнику **640x350**

Використання IFS для стиску звичайних зображень (наприклад, фотографій) засноване на виявленні локальної самоподібності, на відміну від фракталів, де спостерігається глобальна самоподібність. За алгоритмом Барнслі відбувається виділення в зображенні пар областей, менша з яких подібна більшій, і збереження декількох коефіцієнтів, що кодують перетворення та переводять велику область в меншу. Потрібно, щоб безліч “менших” областей покривали все зображення. При цьому у файл, що кодує зображення будуть записані не тільки коефіцієнти, що характеризують знайдені перетворення, але і місцеположення та лінійні розміри “великих” областей, які разом з коефіцієнтами описуватимуть локальну самоподібність кодованого зображення. Алгоритм відновлення у цьому випадку повинен застосовувати кожне перетворення не до всієї множини крапок, що вийшли на попередньому кроці алгоритму, а до деякої підмножини, що належить області, відповідній перетворенню.


## Висновки
Виявилося,  що  в  природі  фрактальні  структури спостерігаються дуже часто: контури хмар, блискавка, дим, дерева, берегова лінія і русла річок, тріщини в матеріалах, бронхи легенів, пористі губки, поверхні порошків, артерії і багато інших структур, які не мають, на перший погляд  закономірностей  у  своїй будові. Але відсутність порядку в них – це ілюзія,  яка виникає при першому ознайомленні.

Введення понять  фрактала  і  фрактальної  геометрії  дозволяє  виділити  раніше приховані закономірності в будові і властивостях природних об’єктів,  класифікувати та досліджувати їх особливості. Зараз вважається, що  фрактальний світ добре відображає реальний, оскільки властивості фракталів  демонструють багато природних об’єктів. Тому часто говорять, що книга  природи написана мовою фракталів. Така дивна схожість реального і фрактального світів обумовлена, перш за все, тим, що властивості фізичного світу змінюються повільно із зміною масштабів. У піску на березі багато властивостей спільних із властивостями гальки, гори мають багато спільного із  каменями,  що  їх складають, маленький струмок багато в чому схожий на велику річку. Саме така незмінність відносно масштабу – характерна риса фракталів.

Цікаво відзначити, що фрактальна математика сьогодні дуже широко  застосовується,  вона  може  бути  використана  для  аналізу змін  цін  і  заробітної  платні,  статистики  помилок  на  телефонних станціях і навіть опису Всесвіту у цілому.


## Контрольні питання
1. Дайте визначення, що таке «фрактал».
2. Яка основна властивість фракталів?
3. Назвіть типи фракталів.
4. Що таке генератор-ламана?
5. Охарактеризуйте термін «аттрактор» .
6. Наведіть приклад передфракталу.
7. Що таке система ітераційних функцій?
8. Які класи геометричних перетворень використовуються для побудови IFS?
9. Як відбувається стиснення зображення за допомогою IFS?
10. Який алгоритм побудови трикутника Серпінського?
11. Чим відрізняється крива Коха від сніжинки Коха?
12. Опишіть побудову множини Мандельброта.
13. Де використовуються фрактали?
14. Наведіть приклад стохастичного фракталу, які кроки його побудови?
15. Поясніть властивість рекурсивності фракталів.


## Варіанти завдань
1. Побудувати тріадну криву Коха.
2. Побудувати криву Міньковського.
3. Побудувати криву Леві.
4. Побудувати “ дракон ” Хартера-Хейтуея.
5. *!*Побудувати множину Мандельброта.
6. Побудувати килим Серпінського.
7. Побудувати трикутник Серпінського.
8. Побудувати сніжинку Коха.
9. *!*Побудувати множину Жюліа.
10. Побудувати криву Пеано.
11. Побудувати Н-фрактал.
12. Побудувати Т-фрактал.
13. Побудувати дерево Піфагора.
14. *!*Побудувати фрактал, який наведено на рис.22, а.
15. *!*Побудувати фрактал, який наведено на рис.22, б.
16. *!*Побудувати фрактал, який наведено на рис.22, в.
17. Побудувати фрактал, який задається послідовністю з рис.23, а.
18. Побудувати фрактал, який задається послідовністю з рис.23, б.
19. *!*Побудувати фрактал, який задається послідовністю з рис.23, в.
20. *!*Побудувати фрактал, який задається послідовністю з рис.23, г.


![image058](https://user-images.githubusercontent.com/13422799/48302583-ca378200-e506-11e8-9d9e-4baa0dd0cb65.jpg)
![image059](https://user-images.githubusercontent.com/13422799/48302584-ca378200-e506-11e8-927a-0dbdf2c2e931.jpg)
![image060](https://user-images.githubusercontent.com/13422799/48302585-cad01880-e506-11e8-9977-bc62d620eaa4.jpg)
Рис. 22. Варіанти фракталів:
а – фрактал Цесаро – варіант кривої Коха з кутом 85º;
б – мережа Аполона: п очинаючи з 3 дотичних кіл, вписувати нові кола у вузли, що утворилися;
в – лист папороті.

![image061](https://user-images.githubusercontent.com/13422799/48302586-cad01880-e506-11e8-93d8-504c65d3b067.jpg)
![image062](https://user-images.githubusercontent.com/13422799/48302587-cb68af00-e506-11e8-8210-33319c9e965b.jpg)
![image063](https://user-images.githubusercontent.com/13422799/48302588-cb68af00-e506-11e8-8eb0-ce6dc4021c68.jpg)
![image064](https://user-images.githubusercontent.com/13422799/48302589-cb68af00-e506-11e8-9c76-02b477bc0ae9.jpg)
Рис. 23. Варіанти фракталів:
а – квадратична пушинка, б – квадратичний хрест,
в – 8-сегментний квадратичний фрактал, г – фрактальна вертушка


## Складові  звіту
 1. Тутильний аркуш.
 2. Тема.
 3. Мета.
 4. Теоретичні відомості.
    - Опис фракталу, який необхідно побудувати.
    - Опис алгоритму побудови фракталу.
      - Назва алгоритму.
	  - Номер кроку. Назва кроку. Реалізація кроку.
5. Формулювання завдання.
6. Текст програми з коментарями.
7. Результати роботи програми.
8. Висновки.


## Вимоги до програми

### Програма має передбачати такі можливості
1. Автоматична побудова фракталу:
   - Починати побудову із центру **Canvas**.
   - Кількість ітерацій – **10**.
2. Ввід вхідних даних вручну:
   - Задати центр побудови фракталу.
   - Задати кількість ітерацій.
   - Можливість додавання декількох ітерацій з відповідним відображенням змін на **Canvas**.
   - Можливість відкидання декількох останніх ітерацій з відповідним відображенням змін на **Canvas**.
3. Передбачити можливість некоректного введення даних.
4. Передбачити можливість покрокового відображення побудови фракталу.
5. Передбачити розрахунок розмірів фігури у відповідності до розмірів **Canvas**, щоб межі фігури не вийшли за межі **Canvas**.
6. Підпис кроку побудови фракталу та назви фракталу.
